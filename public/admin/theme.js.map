{"version":3,"sources":["webpack:///./resources/js/theme.js"],"names":["AdminArchitect","_classCallCheck","this","map","method","call","$","on","e","fn","target","lc","data","closest","find","tab","activate","addClass","siblings","removeClass","click","_ref","locale","each","i","button","trigger","_ref2","item","document","_ref3","prop","_ref4","length","$target","msg","window","confirm","dataAction","is","val","submit","fancybox","afterLoad","width","height","element"],"mappings":"uUAAMA,aACF,SAAAA,iGAAcC,CAAAC,KAAAF,IAEN,cAAe,eACf,WAAY,eAAgB,gBAC9BG,IAAI,SAACC,GACHJ,EAAe,SAAWI,GAAQC,qEAMtCC,EAAE,uBAAwB,qBAAqBC,GAAG,eAAgB,SAAUC,GACxE,IAAIC,EAAKH,EAAEE,EAAEE,QACTC,EAAKF,EAAGG,KAAK,UAEjBH,EAAGI,QAAQ,QAAQC,KAAK,kBAAoBH,EAAK,MAAMI,IAAI,uDAK/D,IAAMC,EAAW,SAAUP,GACvBA,EAAGQ,SAAS,UAAUC,SAAS,UAAUC,YAAY,WAGzDb,EAAE,+BAA+Bc,MAAM,SAAAC,GAAc,IAAZX,EAAYW,EAAZX,OAC/BD,EAAKH,EAAEI,GAASY,EAASb,EAAGG,KAAK,UACvCN,EAAEG,GAAII,QAAQ,SAASC,KAAK,6BAA+BQ,EAAS,MAAMC,KAAK,SAAUC,EAAGC,GACxFnB,EAAEmB,GAAQC,QAAQ,WAEtBV,EAASP,KAGbH,EAAE,6BAA6Bc,MAAM,SAAAO,GAAc,IAAZjB,EAAYiB,EAAZjB,OAC7BD,EAAKH,EAAEI,GAASY,EAASb,EAAGG,KAAK,UACvCH,EAAGI,QAAQ,MAAMC,KAAK,iBAAiBS,KAAK,SAACC,EAAGhB,GAC5C,IAAMoB,EAAOtB,EAAEE,GACfoB,EAAKA,EAAKhB,KAAK,YAAcU,EAAS,cAAgB,YAAY,YAEtEN,EAASP,iDAKbH,EAAEuB,UAAUtB,GAAG,QAAS,qBAAsB,SAAAuB,GAAc,IAAZpB,EAAYoB,EAAZpB,OACtCD,EAAKH,EAAEI,GAEbJ,EAAE,wCAAwCiB,KAAK,SAACC,EAAGhB,GAC/CF,EAAEE,GAAGuB,KAAK,UAAWtB,EAAGsB,KAAK,6DAUrCzB,EAAEuB,UAAUtB,GAAG,QAAS,gCAAiC,SAAAyB,GAAc,IAAZtB,EAAYsB,EAAZtB,OACvD,IAJOJ,EAAE,gDAIO2B,OACZ,OAAO,EAGX,IAAMC,EAAU5B,EAAEI,GAEZyB,EAAMD,EAAQtB,KAAK,iBAAmB,GAC5C,GAAIuB,EAAIF,SAAWG,OAAOC,QAAQF,GAC9B,OAAO,EAGX,IAAIG,SAUJ,OARIA,EADAJ,EAAQK,GAAG,kBACEL,EAAQtB,KAAK,UAEbsB,EAAQrB,QAAQ,kBAAkBD,KAAK,UAGxDN,EAAE,iBAAiBkC,IAAIF,GACvBhC,EAAE,eAAemC,UAEV,6CAKXnC,EAAE,aAAaoC,UACXC,UAAW,WACP,IAAIC,EAAOC,GACPD,EAAQtC,EAAEJ,KAAK4C,SAASlC,KAAK,YAC7BV,KAAK0C,MAAQA,IAGbC,EAASvC,EAAEJ,KAAK4C,SAASlC,KAAK,aAC9BV,KAAK2C,OAASA,eAOlCvC,EAAE,kBAAM,IAAIN","file":"/theme.js","sourcesContent":["class AdminArchitect {\n    constructor() {\n        [\n            'Collections', 'BatchActions',\n            'Fancybox', 'Translatable', 'Translations',\n        ].map((method) => {\n            AdminArchitect['handle' + method].call();\n        });\n    }\n\n    static handleTranslatable() {\n        // When Mui tab is switched it will switch all sibling Mui tabs.\n        $('a[data-toggle=\"tab\"]', '.nav-translatable').on('shown.bs.tab', function (e) {\n            let fn = $(e.target),\n                lc = fn.data('locale');\n\n            fn.closest('form').find('a[data-locale=\"' + lc + '\"]').tab('show');\n        });\n    }\n\n    static handleTranslations() {\n        const activate = function (fn) {\n            fn.addClass('active').siblings('button').removeClass('active');\n        };\n\n        $('.global button[data-locale]').click(({target}) => {\n            const fn = $(target), locale = fn.data('locale');\n            $(fn).closest('table').find('tbody button[data-locale=\"' + locale + '\"]').each(function (i, button) {\n                $(button).trigger('click');\n            });\n            activate(fn);\n        });\n\n        $('tbody button[data-locale]').click(({target}) => {\n            const fn = $(target), locale = fn.data('locale');\n            fn.closest('tr').find('.translatable').each((i, e) => {\n                const item = $(e);\n                item[item.data('locale') === locale ? 'removeClass' : 'addClass']('hidden');\n            });\n            activate(fn);\n        });\n    }\n\n    static handleCollections() {\n        $(document).on('click', '.toggle-collection', ({target}) => {\n            const fn = $(target);\n\n            $('input[type=checkbox].collection-item').each((i, e) => {\n                $(e).prop('checked', fn.prop('checked'));\n            });\n        });\n    }\n\n    static handleBatchActions() {\n        const selected = () => {\n            return $('input[type=checkbox]:checked.collection-item');\n        };\n\n        $(document).on('click', '.batch-actions a[data-action]', ({target}) => {\n            if (!selected().length) {\n                return false;\n            }\n\n            const $target = $(target);\n\n            const msg = $target.data('confirmation') || '';\n            if (msg.length && !window.confirm(msg)) {\n                return false;\n            }\n\n            let dataAction;\n            if ($target.is('a[data-action]')) {\n                dataAction = $target.data('action');\n            } else {\n                dataAction = $target.closest('a[data-action]').data('action');\n            }\n\n            $('#batch_action').val(dataAction);\n            $('#collection').submit();\n\n            return false;\n        });\n    }\n\n    static handleFancybox() {\n        $('.fancybox').fancybox({\n            afterLoad: function () {\n                let width, height;\n                if (width = $(this.element).data('width')) {\n                    this.width = width;\n                }\n\n                if (height = $(this.element).data('height')) {\n                    this.height = height;\n                }\n            },\n        });\n    }\n}\n\n$(() => new AdminArchitect);\n\n\n\n// WEBPACK FOOTER //\n// ./resources/js/theme.js"],"sourceRoot":""}